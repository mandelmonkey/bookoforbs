<div class="backGround">

<div class="darkView">
</div>

 
<div class="sendOrb" id="sendOrb">
	<div class="topSection">
	<div class="sendOrbImgBox">
	<span class="orbImgTitle">{{dataService.maincontroller.selectedKey}}<b><br>{{getOrbInfo()}}</b><span>&nbsp;{{getOrbLock()}}</span></span>
<img class="sendOrbImg" [errorImage]="dataService.collection.errorImage" [src]="dataService.collection.defaultImage" [lazyLoad]="this.dataService.maincontroller.selectedOrb.image"  [ngStyle]="getImageSize()"/>
 </div>

 <div class="ordersList">
 	<span class="ordersTitle">Sellers</span>
 	<div class="sellOrdersList" *ngFor="let order of sell_orders" >

	<div class="aSellBuyOrder" (click)="buyOrder(order,'buy')" [style.background-image]="'url(' +dataService.getImage('buyPriceButton')+ ')'">
	   <div class="orderBox">
		<div class="orderPrice">{{order.price}}<b>&nbsp;{{dataService.maincontroller.currentAbrev}}</b></div>
		<div class="orderPriceDetails">{{getOrderAmount(order)}}</div>
			 </div>
	</div>
</div> 
<br>
<span class="ordersTitle">Buyers</span>
<div lass="buyOrdersList" *ngFor="let order of buy_orders" >
<div class="aSellBuyOrder" (click)="buyOrder(order,'sell')" [style.background-image]="'url(' +dataService.getImage('sellPriceButton')+ ')'">
		 <div class="orderBox">
		<div class="orderPrice">{{order.price}}<b>&nbsp;{{dataService.maincontroller.currentAbrev}}</b></div>
		<div class="orderPriceDetails">{{getOrderAmount(order)}}</div>
		</div>
	</div>
</div> 


</div>
</div>


 </div>


 <div class="bottomSection" [style.top]="getBottomTop()">
	
	<div class="customOrder1" [style.left]="customOrder1Left">
		
		<div class="items1">
			<div class="itemTitle">Place a custom order</div>
			<br>
				<div class="items1Buttons">
					<input class="customButtonBuy" type="button" value="Buy" style="float: left; " (click)="goToCustom2('buy')" [style.background-image]="'url(' +dataService.getImage('buyPriceButton')+ ')'">	 
		 			<input class="customButtonSell" type="button" value="Sell" style="float: left;" (click)="goToCustom2('sell')" [style.background-image]="'url(' +dataService.getImage('sellPriceButton')+ ')'">	 	 
				</div>
		</div>

	</div>

	<div class="customOrder2" [style.left]="customOrder2Left">
			<div class="items2">
			<div class="itemTitle">How Many {{dataService.maincontroller.selectedKey}}?</div>
			<br>
			<input  class="textInput"  type="number" [(ngModel)]="orderAmount"  placeholder="e.g. 1"  name="customfee"  (blur)="onBlurMethod()" (focus)="onFocusMethod()">
			<br>
			<br>
				<div class="items1Buttons">
					<input class="customButtonBackNext" type="button" value="back" style="float: left; " (click)="goToCustom1()" [style.background-image]="'url(' +dataService.getImage('filterButtonBackground')+ ')'">
		 			<input class="customButtonBackNext" type="button" value="next" style="float: left;" (click)="goToCustom3()"  [style.background-image]="'url(' +dataService.getImage('filterButtonBackground')+ ')'">	 
				</div>
			</div>
	</div>

	<div class="customOrder3" [style.left]="customOrder3Left">
				<div class="items2">
			<div class="itemTitle">enter price per card below</div>
			<br>
			<input  class="textInput"  type="number" [(ngModel)]="orderPrice"  placeholder="e.g. 1"  name="customfee"  (blur)="onBlurMethod()" (focus)="onFocusMethod()"><span class="abrev">&nbsp;{{dataService.maincontroller.currentAbrev}}</span>
			<br>
			<br>
				<div class="items1Buttons">
					<input class="customButtonBackNext" type="button" value="back" style="float: left; " (click)="goToCustom2('na')" [style.background-image]="'url(' +dataService.getImage('filterButtonBackground')+ ')'">
		 			<input class="customButtonConfirm" type="button" value="confirm" style="float: left;" (click)="showConf()" [style.background-image]="'url(' +dataService.getImage('sellPriceButton')+ ')'">	 
				</div>
			</div>
	</div>

</div>



<div class="parent">
  <img class="backbar"  [src]="dataService.getImage('tool_bar_background')"/>
  <img class="leftbracket"  [src]="dataService.getImage('leftBracket')"/>
  <img class="rightbracket" [src]="dataService.getImage('rightBracket')"/>
   <div class="backButton" (click)="closeSelf()">
    <img class="backButtonImg"  [src]="dataService.getImage('filterButtonBackground')"/>
    <label>back</label>
    
  </div>
 

<label id="balance" class="title">{{dataService.maincontroller.currentBalance}}&nbsp;{{dataService.maincontroller.selectedKey}}</label> 


      <app-fee-selector></app-fee-selector>

</div>
</div>

 <div *ngIf="showConfOverlay" class="orderConfOverlay">
   <div class="messageBack" [style.background-image]="'url(' +dataService.getImage('thinFrame')+ ')'">	 	 
   	 	<div  class="loading" *ngIf="loading">
   	 			<p>please wait...</p>
   	 	</div>
   	<div  *ngIf="!loading">
  <div *ngIf="showOrderText" class="messageText">
  	<p>{{buySellText}}</p>
  	<p style="font-style: italic;"> {{orderAmount}}&nbsp; {{dataService.maincontroller.selectedKey}}</p>
  	<p>at</p>
  	<p style="font-style: italic;">{{orderPrice}}&nbsp;  {{dataService.maincontroller.currentAbrev}} each</p>
  	<p>Total: {{getTotalPrice()}}&nbsp; {{dataService.maincontroller.currentAbrev}}</p>
  </div> 


    <div *ngIf="showConfText" class="confText" style="white-space: pre-wrap;"> 
  	<p>A {{currentTransactionFee}}BTC fee <br>will apply to place this order <br>would you still like to continue?</p>
  	 
  </div> 

     <div *ngIf="selectAmount" class="messageText" > 
  	<p style="font-size: 1.4em;">Order details</p>
  	 <p>Price</p>
  	 <p style="font-style: italic;">{{orderPrice}}  {{dataService.maincontroller.currentAbrev}}</p>
 <p>Availability </p>
  	 <p style="font-style: italic;">x{{originalOrderAmount}}</p> 
 <p>Enter order amount </p> 
 <input  style="text-align: center;"class="textInputCenter"  type="number" [(ngModel)]="orderAmount"  placeholder="e.g. 2"  name="customfee"  (blur)="onBlurMethod()" (focus)="onFocusMethod()">

 <div  class="placeOrderButtons">
        <input class="customButtonPlaceOrder" type="button" value="place order"  (click)="showConf()" [style.background-image]="'url(' +dataService.getImage('sellPriceButton')+ ')'">	 	 
        <br> <br>
     
		<input class="customButtonCancel" type="button" value="cancel"  (click)="closeConf()" [style.background-image]="'url(' +dataService.getImage('filterButtonBackground')+ ')'">	 
       </div>
 
  </div> 

       <div *ngIf="!selectAmount" class="placeOrderButtons">
        <input class="customButtonPlaceOrder" type="button" value="place order"  (click)="createOrder()"[style.background-image]="'url(' +dataService.getImage('sellPriceButton')+ ')'">	 	 
        <br> <br>
     
		<input class="customButtonCancel" type="button" value="cancel"  (click)="closeConf()" [style.background-image]="'url(' +dataService.getImage('filterButtonBackground')+ ')'">	 
       </div>
     </div>
      </div>
 </div>
